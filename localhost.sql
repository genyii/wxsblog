-- phpMyAdmin SQL Dump
-- version 3.3.10.5
-- http://www.phpmyadmin.net
--
-- 主机: localhost
-- 生成日期: 2012 年 12 月 26 日 15:39
-- 服务器版本: 5.1.66
-- PHP 版本: 5.3.2-1ubuntu4.18

SET SQL_MODE="NO_AUTO_VALUE_ON_ZERO";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;

--
-- 数据库: `uu145635`
--
CREATE DATABASE `uu145635` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci;
USE `uu145635`;

-- --------------------------------------------------------

--
-- 表的结构 `tb_category`
--

CREATE TABLE IF NOT EXISTS `tb_category` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(255) NOT NULL DEFAULT '',
  `title` varchar(255) NOT NULL DEFAULT '',
  `keywords` varchar(255) NOT NULL DEFAULT '',
  `description` varchar(255) NOT NULL DEFAULT '',
  `image` varchar(255) NOT NULL DEFAULT '',
  `content` text,
  `ispage` tinyint(4) DEFAULT NULL,
  `view` int(11) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM  DEFAULT CHARSET=utf8 AUTO_INCREMENT=9 ;

--
-- 转存表中的数据 `tb_category`
--

INSERT INTO `tb_category` (`id`, `name`, `title`, `keywords`, `description`, `image`, `content`, `ispage`, `view`) VALUES
(1, 'php-skills', 'PHP技巧', '', '', '', NULL, NULL, 52),
(2, 'php-study', 'PHP教程', '', '', '', NULL, NULL, 37),
(3, 'php-software', 'PHP软件', '', '', '', NULL, NULL, 23),
(4, 'php-source-code', 'PHP源码', '', '', '', NULL, NULL, 18),
(5, 'php-framework', 'PHP框架', '', '', '', NULL, NULL, 17),
(6, 'javascript', 'JavaScript', '', '', '', NULL, NULL, 26),
(7, 'div-css', 'DIV+CSS', 'div+css', '', '', NULL, NULL, 17),
(8, 'other-tech', '其他技术', '', '', '', NULL, NULL, 15);

-- --------------------------------------------------------

--
-- 表的结构 `tb_content`
--

CREATE TABLE IF NOT EXISTS `tb_content` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `cid` int(10) unsigned NOT NULL DEFAULT '0',
  `name` varchar(255) NOT NULL,
  `title` varchar(255) NOT NULL DEFAULT '',
  `tag` varchar(255) NOT NULL DEFAULT '',
  `keywords` varchar(255) NOT NULL DEFAULT '',
  `description` varchar(255) NOT NULL DEFAULT '',
  `image` varchar(255) NOT NULL DEFAULT '',
  `view` int(10) unsigned NOT NULL DEFAULT '0',
  `content` text,
  PRIMARY KEY (`id`),
  UNIQUE KEY `name` (`name`),
  KEY `tag` (`tag`)
) ENGINE=MyISAM  DEFAULT CHARSET=utf8 AUTO_INCREMENT=16 ;

--
-- 转存表中的数据 `tb_content`
--

INSERT INTO `tb_content` (`id`, `cid`, `name`, `title`, `tag`, `keywords`, `description`, `image`, `view`, `content`) VALUES
(1, 1, 'apache-php-iis-asp', 'IIS+Apache同时运行ASP和PHP', '', '', '前几天公司的VPS上要放个ASP网站，本以为小事一桩，遂风风火火地在WAMP旁边又弄出来个IIS的快捷方式。一路过关斩将终于在IIS上建了个以域名为主机头的网站，端口当然是默认且大名鼎鼎的80，结果居然是“（停止）”！', '', 132, '<p><img alt="大笑" src="http://wxsblog.com/media/xheditor/xheditor_emot/default/laugh.gif" />&nbsp;哈喽，大家好。又是阳光明媚的一天，赶紧把前几天刚搞到手的一点PHP小技巧拿出来晒晒，千万别发霉了。</p><p>虽然被放到了“PHP技巧”目录下，但我还是有点犹豫：这东西貌似跟PHP没啥关系，不过也算技巧，所以大家凑合看吧<img alt="害羞" src="http://wxsblog.com/media/xheditor/xheditor_emot/default/shy.gif" />。</p><p style="text-align: left;"><img src="http://wxsblog.com/upload/day_121220/201212201357208296.png" alt="IIS建网站80端口冲突" align="left" />言归正题。前几天公司的VPS上要放个<strong>ASP</strong>网站，本以为小事一桩，遂风风火火地在WAMP旁边又弄出来个IIS的快捷方式。一路过关斩将终于在IIS上建了个以域名为主机头的网站，端口当然是默认且大名鼎鼎的80，结果居然是“（停止）”！<br /></p><p style="text-align: left;">我顿觉一阵天旋地转，说时迟那时快，最后关头桌子以迅雷不及掩耳之势稳稳地搀住了我(谢谢)，咳咳。定了定神之后，我仔细提着腮帮子沉思了半日：这货到底是硬邦邦的微软开发的，虽说同是80端口，但我好歹用主机名把你们俩拉开了呀，何故还是容不下Apache？又拉着额头思虑了半晌，终于皇天不负有心人，我果断双击桌面上的红黄绿蓝小圆球，不远万里来到了位于中国香港的Google.hk。在我的威逼利诱下，终于得到了解决问题的办法。</p><p style="text-align: left;">好，废话不再多说，赶紧把这来之不易的答案给大家双手奉上。<br /></p><p style="text-align: left;">原来，还真是80端口冲突了。虽然在Apache或者IIS上可以建立多个80端口的网站(不同域名)，但可以简单滴理解为<strong>一个WEB服务器软件可以使用一个端口处理多个网站</strong>，但<strong>多个WEB服务器软件不能共用一个端口处理多个网站</strong>，就好像一个司机可以开一辆车接多个乘客，但多个司机不能同时开一辆车接客（乘客）一样。所以，只能让IIS委屈一下，给你个8000端口吧，唉，谁让我这么偏袒开源软件呢。</p><p style="text-align: left;">问题又来了，我总不能让大家输入http://wxsblog.com:8000/来访问我的网站吧，所以必须还得解决一个问题：让大家直接输入域名就可以访问到这个ASP网站。只能从apache上着手了，因为80端口被他霸占着呢。当然，这个问题Google也告诉我了，用Apache的代理功能，简单地说就是当我访问apache的80端口的时候他可以把我的请求转发到另一个网址，然后把结果再回传给我，对我来说，我根本不知道apache回去找别人要东西，所以就不会给访问这个网站的用户造成影响了。具体操作如下：</p><p style="text-align: left;"></p><ol><li>修改Apache的配置文件httpd.conf开启两个模块<pre class="brush:python">LoadModule proxy_module modules/mod_proxy.so\r\nLoadModule proxy_http_module modules/mod_proxy_http.so</pre><br /></li><li>(在httpd-vhosts.conf中)新增一个指向IIS上的ASP网站的VirtualHost,切记:ProxyRequests Off,否则你的服务器将成为某些小朋友的免费代理服务器。这可是我对照apache日志摸索了半天才搞出来的，说来也巧，我刚开启代理就有人来跳了。<pre class="brush:python">&lt;VirtualHost *:80&gt;\r\n      &lt;IfModule mod_proxy.c&gt;\r\n         ProxyRequests Off\r\n         &lt;Proxy *&gt;\r\n              Order deny,allow\r\n              Allow from all\r\n         &lt;/Proxy&gt;\r\n     &lt;/IfModule&gt;\r\n     ServerName wxsblog.com\r\n     ServerAlias www.wxsblog.com\r\n     ProxyPass / http://localhost:8000/\r\n     ProxyPassReverse / http://localhost:8000/\r\n &lt;/VirtualHost&gt;</pre></li><li>OK,重启Apache，再次双击彩色小球输入ASP网站的域名，apache如约奉上了去找IIS借来的ASP网站。</li></ol>好了，太阳也快下山了，今天就晒到这里，再次感谢大家的捧场，谢谢，咱们下期节目同一时间再见。<img alt="再见" src="http://wxsblog.com/media/xheditor/xheditor_emot/default/bye.gif" /><p></p>'),
(2, 8, 'the-first-day-php', '第一天，向PHP等开源事业致敬', '', '', '', '', 43, '<p>PHP不是JAVA或C#，他没有显赫的家世，也许也注定了也没有“严谨”的语法。</p><p></p><p>大智若愚，PHP诠释得清清楚楚。<br /></p><p>大道至简，PHP发挥得淋漓尽致。</p><p>定位草根的PHP本无意与其他语言争宠。喜欢，就用；不喜欢，就换。</p><p>PHP骨子里就透着开元精神，所以被加密的代码不会真正地被人喜欢。</p><p>而开元精神也注定了他会被全世界的人们雕琢得完美无缺。</p><p>.dll和.class划清了开发者和使用者的界线</p><p>.php却使开发者和使用者能0距离接触</p><p>真正的巨人，不会强制我们臣服；</p><p>真正的巨人，愿意不顾一切给我们带来象征希望的火种；</p><p>真正的巨人，愿意让我们站在他的肩膀上看得更远。</p><p>此刻，请允许我脱帽肃立，向开源事业庄重致敬！</p><p></p>'),
(3, 7, 'Design', '磨刀不误砍柴工——WEB前端开发的前期构思', 'WEB前端构思', 'WEB前端构思', '', '', 8, '<p style="margin: 0px; padding: 0px; color: rgb(69, 69, 69); font-family: tahoma, helvetica, arial; font-size: 14px; line-height: 21px;"><span style="white-space:pre">	</span>我从前一直都是拿到一个任务后就马上开始写代码，其实这并不是一个好习惯。</p><p style="margin: 0px; padding: 0px; color: rgb(69, 69, 69); font-family: tahoma, helvetica, arial; font-size: 14px; line-height: 21px;">对于简单的独立页面而言，这么做还不会有太大麻烦。但是，对于一个大中型的网站而言，如果在还没有一个思考成熟的前端框架前就开始动手写代码是会带来非常多问题的，比如代码冗余，多人合作容易冲突、代码组织没有规律等。</p><p style="margin: 0px; padding: 0px; color: rgb(69, 69, 69); font-family: tahoma, helvetica, arial; font-size: 14px; line-height: 21px;"><span style="white-space:pre">	</span>犯这种错误主要因为两个方面的原因：一方面可能是工程师本身经验不足；另一方面可能是客户或boss给的压力很大，拼命赶工期。如果是后者，我们一定要顶住压力，客户和boss往往不了解技术，他们可能更希望尽快看到工作成果。如果在没有一个成熟的框架前就开始写代码，很可能出现先快后慢的局面，越到后期开发速度越慢，反复修改BUG、打补丁，系统的开发和维护成本越来越大。如果一开始不急于马上进行开发、而是先跟据用户需求进行分析，先考虑好框架，会让整个开发过程跟有规划、更顺畅，是一个先慢后快的过程。</p>'),
(4, 7, 'Semantic-change', 'web语义化应注意的一些问题', '', '', '为了保证网页去样式后的可读性，并且又符合Web标准，我们应该注意以下几点：\r\n一、尽可能少地使用无语义标签div和span；二、在语义不明显', '', 9, '<p style="margin: 0px; padding: 0px; color: rgb(69, 69, 69); font-family: tahoma, helvetica, arial; font-size: 14px; line-height: 21px;">为了保证网页去样式后的可读性，并且又符合Web标准，我们应该注意以下几点：</p><p style="margin: 0px; padding: 0px; color: rgb(69, 69, 69); font-family: tahoma, helvetica, arial; font-size: 14px; line-height: 21px;">一、尽可能少地使用无语义标签div和span；</p><p style="margin: 0px; padding: 0px; color: rgb(69, 69, 69); font-family: tahoma, helvetica, arial; font-size: 14px; line-height: 21px;">二、在语义不明显，既可以用P也可以用div的地方，尽量用P，因为P默认情况下有上下间距，去样式后的可读性更好，对兼容特殊终端有利；</p><p style="margin: 0px; padding: 0px; color: rgb(69, 69, 69); font-family: tahoma, helvetica, arial; font-size: 14px; line-height: 21px;">三、不要使用纯样式标签，例如 b、font和u等，改用css设置。语义上需要强调的文本可以包在strong或em标签里，strong和em有强调的语义，其中strong的默认样式是加粗，而em的默认样式是斜体。</p>'),
(5, 7, 'webkit-css3', 'webkit CSS3若干问题小结', '', '', '-webkit-transform:rotate(5deg); 旋转-webkit-box-shadow:5px 5px 5px #999; 阴影（默认为外阴影，inset为内阴影）-webkit-transform:scale(0.5); 大小缩放div{opacity:1;-webkit-transition:opacity 1s linear;}div:hover{opacity:0;}; 淡出', '', 11, '<p style="margin: 0px; padding: 0px; color: rgb(69, 69, 69); font-family: tahoma, helvetica, arial; font-size: 14px; line-height: 21px;"><pre class="prettyprint lang-html">-webkit-transform:rotate(5deg); 旋转\r\n-webkit-box-shadow:5px 5px 5px #999; 阴影（默认为外阴影，inset为内阴影）\r\n-webkit-transform:scale(0.5); 大小缩放\r\ndiv{opacity:1;-webkit-transition:opacity 1s linear;}\r\ndiv:hover{opacity:0;}; 淡出\r\ninput[type=range]{-webkit-appearance:slider-horizontal;} 水平滑动条\r\n-webkit-appearance:push-button; 按钮\r\n-webkit-appearance:searchfield; 搜索框\r\n-webkit-box-sizing:border-box; padding的值包含在width里\r\n-webkit-text-size-adjust:none; 禁用Webkit内核浏览器的文字大小调整功能\r\n-webkit-tap-highlight-color:rgba(0,0,0,0); 只用于iOS (iPhone和iPad) 设置高亮色，alpha为0时禁用高亮\r\na{\r\n    display:block;margin-top:.2em;color:#413F3F;\r\n    background-image:-webkit-gradient(linear,0 0,0 100%,from(#e5e5e5),to(#c7c7c7));\r\n    background-image:-webkit-linear-gradient(top,#e5e5e5,#c7c7c7);\r\n    background-image:-moz-linear-gradient(top,#e5e5e5,#c7c7c7);\r\n    background-image:-ms-linear-gradient(top,#e5e5e5,#c7c7c7);\r\n    background-image:linear-gradient(top,#e5e5e5,#c7c7c7);\r\n    background-color:#dfdfdf\\9;\r\n filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=''#e5e5e5'',endColorstr=''#c7c7c7'');\r\n}; 颜色渐变。</pre><br /></p>'),
(6, 7, 'w3c-css-validator-error-warning', 'W3C官网的CSS验证结果【错误 (22)警告 (133)】令人心寒', '', '', 'W3C定义了一套WEB标准自己都不去执行么？？？W3C官网的CSS验证结果，【错误 (22)警告 (133)】', '', 16, '<a href="http://jigsaw.w3.org/css-validator/validator?profile=css2&amp;warning=2&amp;uri=http%3a%2f%2fwww.w3.org%2f" target="_blank">这是W3C官网的CSS验证结果，【错误 (22)警告 (133)】</a><br /><br />W3C定义了一套WEB标准自己都不去执行么？？？<br /><br />目前很多想让自己的网站通过W3C校验的同仁一遇到某某错误或者某某警告都能做出这样的解释：“我们没有必要完全按照标准来，把用户体验做上去就行了”。对此我不予苟同也不予反驳，我所关心的是：W3C，你们定制WEB标准的初衷很好，但请你们不要一辈子窝在实验室，偶尔也看看现实社会的实情，我个人觉得你们那所谓的WEB标准中有很大一部分真的只适合机器不适合人类。例如：background-color和color必须同时定义，虽然仅仅是警告级别，但我希望我的看到的结果是“错误（0） 警告（0）”。也许你们真的应该好好考虑考虑是否要剔除一些蹩脚的check，现在都讲究以人为本，也希望你们的标准能为我们人类而不是机器制定，我真的不希望你们的标准和用户体验背道而驰，可以吗？'),
(7, 8, 'cmd-exe-assoc', 'CMD中很危险的命令--让所有可执行文件都打不开', '', '', '还是windows徽标键+R打开运行对话框，输入cmd进入命令提示符(command的缩写)\r\n在键盘上找准了，输入：assoc .lnk=ksjhsdfgs', '', 14, '还是windows徽标键+R打开运行对话框，输入cmd进入命令提示符(command的缩写)<br />在键盘上找准了，输入：assoc .lnk=ksjhsdfgs<br />等号后面随便乱输，然后回车<br />哈哈，看看你所有的快捷方式吧！是不是都变图标了而且还打不开？这就对了！<br />【注意】！！！当你双击一个快捷方式的时候它让你选打开方式时一定要点取消或关闭，千万不要选择一个程序去打开它，不然后悔都来不及了<br />想改回来吗？那就试试assoc .lnk=lnkfile<br />这次等号后面可不能随便乱输了<br />assoc是设置文件扩展名和文件类型关联的命令，第二条命令就是说吧lnk格式的文件和lnkfile这种文件类型关联起来<br />lnkfile是注册表里面定义的，你可以自己改，但最好还是别冲动。<br />想看的话还是打开运行对话框，输入regedit进入注册表编辑器(register editor)<br />展开HKEY_CLASSES_ROOT,找到.lnk看右边的“默认”的“数据”，是“lnkfile”,这就是正常的。<br />你在HKCR（上面那串英文的缩写）下面也可以看到lnkfile子键,基本上每种扩展名都对应有一个&quot;扩展名file&quot;的键<br />现在可以来个更好玩的了：<br />在cmd里打assoc .exe=asdfasfads<br />同样，等号后乱打,请小心，先别关掉cmd窗口，不然有点麻烦!<br />现在试着双击打开任意一个程序（一般都是以exe为扩展名的），注意，还是不要选打开方式，直接取消！<br />貌似以前有个什么病毒的就是让所有的exe图标都改变，还不能正常运行，不过原理肯定和这个不一样！<br />这样一来所有的exe可执行文件都不能运行了，包括cmd.exe，所以我刚才告诉你尽量不要关闭cmd窗口，一旦关闭就打不开了。当然，解决方法肯定是有的，去c:\\windows\\system32\\下把cmd.exe改成cmd.com就行了，com也是可执行文件，不过不是每个exe都可以改成com的。<br />玩够了，改改回来了，相信你已经知道怎么解决了。没错，还是进CMD，输入：<br />assoc .exe=exefile<br />嗯，就这么简单！<br />有兴趣到朋友的机子上玩玩吗，想玩就玩吧，不过一定要记住，当修改文件关联后双击问价打不开时千万不要选择一种打开方式，一定要取消，不然可能就只能重装系统了。或者可以去网上问问如何解决，因为我也不知道该怎么解决！'),
(8, 8, 'cmd-bendilianjie-net-sh', '从命令行配置本地连接', '', '', '配置DHCP自动获得的方法：\r\nnetsh interface ip set address "本地连接" dhcp\r\n就上面那一条命令，打完之后回车就可以了', '', 8, '<p style="margin: 0px; font-family: tahoma, Helvetica, arial; font-size: 14px; line-height: 21px;">按下windows徽标键+R打开运行对话框，输入cmd回车进入命令提示符，就是一个黑框</p><p style="margin: 0px; font-family: tahoma, Helvetica, arial; font-size: 14px; line-height: 21px;">1.配置DHCP自动获得的方法：</p><p style="margin: 0px; font-family: tahoma, Helvetica, arial; font-size: 14px; line-height: 21px;">netsh interface ip set address &quot;本地连接&quot; dhcp</p><p style="margin: 0px; font-family: tahoma, Helvetica, arial; font-size: 14px; line-height: 21px;">就上面那一条命令，打完之后回车就可以了</p><p style="margin: 0px; font-family: tahoma, Helvetica, arial; font-size: 14px; line-height: 21px;">2.配置静态IP地址：</p><p style="margin: 0px; font-family: tahoma, Helvetica, arial; font-size: 14px; line-height: 21px;">netsh interface ip set address &quot;本地连接&quot; static 192.168.1.101 255.255.255.0 192.168.1.1</p><p style="margin: 0px; font-family: tahoma, Helvetica, arial; font-size: 14px; line-height: 21px;">后面三组数分别是IP地址、子网掩码和默认网关，视具体情况而定</p><p style="margin: 0px; font-family: tahoma, Helvetica, arial; font-size: 14px; line-height: 21px;">netsh interface ip set dnsserver &quot;本地连接&quot; static 202.106.0.20 primary</p><p style="margin: 0px; font-family: tahoma, Helvetica, arial; font-size: 14px; line-height: 21px;">这里是配置DNS服务器地址，北京网通一般都是202.106.0.20这个配好基本上就可以上网了</p><p style="margin: 0px; font-family: tahoma, Helvetica, arial; font-size: 14px; line-height: 21px;">---------------------------------------------------------------------------------------------------------------------------------</p><p style="margin: 0px; font-family: tahoma, Helvetica, arial; font-size: 14px; line-height: 21px;">最近上班了，在家里上网是固定IP，在公司是自动获得，每次鼠标点来点去地改很麻烦，于是就写了个批处理，方便！</p><p style="margin: 0px; font-family: tahoma, Helvetica, arial; font-size: 14px; line-height: 21px;">IP地址.cmd文件内容：</p><p style="margin: 0px; font-family: tahoma, Helvetica, arial; font-size: 14px; line-height: 21px;"><pre class="prettyprint lang-py">@echo off\r\ncolor 0a\r\necho **************选择上网地点：**************\r\necho 1.家里\r\necho 2.公司\r\necho exit.退出\r\necho **********************************************\r\necho.\r\n:begin\r\nset /p ip=请选择：\r\nif &quot;%ip%&quot;==&quot;1&quot; ( \r\necho 你选择了在家里上网\r\necho 正在配置[静态IP:192.168.26.95 子网掩码:255.255.255.0 默认网关:192.168.26.1]\r\nnetsh interface ip set address &quot;本地连接&quot; static 192.168.26.95 255.255.255.0 192.168.26.1\r\necho 正在配置[DNS服务器:202.106.0.20]\r\nnetsh interface ip set dnsserver &quot;本地连接&quot; static 202.106.0.20 primary\r\necho 配置完毕,exit退出!\r\n)\r\nif &quot;%ip%&quot;==&quot;2&quot; ( \r\necho 你选择了在公司上网 \r\necho 正在配置[DHCP自动获取IP]\r\nnetsh interface ip set address &quot;本地连接&quot; dhcp\r\necho 配置完毕,exit退出!\r\n)\r\nif &quot;%ip%&quot;==&quot;exit&quot; goto end\r\ngoto begin\r\n:end</pre><br /></p><p style="margin: 0px; font-family: tahoma, Helvetica, arial; font-size: 14px; line-height: 21px;">结束了！双击试试？</p>'),
(9, 1, 'get-post-args', 'PHP技巧之便捷获取GET和POST等变量', '', '', '我的下一个改进是在获取之前先判断一下该变量是否存在： $php=isset($_REQUEST[''php''])?$_REQUEST[''php'']:null;  这样一来，即使变量不存在，我也只是得到一个null', '', 24, '<p>我的工作并不是开发什么亿万级访问量大型网站(我也搞不来<img alt="大笑" src="http://wxsblog.com/media/xheditor/xheditor_emot/default/laugh.gif" />)，相反，我只是天天小打小闹，写点小代码方便兄弟伙们工作，所以基本上也不用什么开发包或者PHP框架啥的。但这也并不代表我没法儿偷懒，比如我经常会做的一个操作：获取提交的GET和POST变量。</p><p>当N年以前，我还很单纯的时候，我只能用上古时期代代相传的方法来获取--<code>$php=$_GET[''php''];</code> <img alt="可怜" src="http://wxsblog.com/media/xheditor/xheditor_emot/default/cute.gif" />。但后来，我又想同时获取GET和POST的变量，于是，我发现了一个<code>$_REQUEST</code>变量，<a href="http://cn2.php.net/manual/zh/reserved.variables.request.php" target="_blank">这家伙</a>貌似集合了GET和POST的东西，于是我用<code>$php=$_REQUEST[''php'']; </code>就可以不用担心form标签的method到底是get还是post了。但是！！！我忘了跟大家坦白一件事情--为了偷懒，我在页面顶部加上了<code>error_reporting(0); </code>来屏蔽我获取一个不存在的<code>$_REQUEST</code>变量的错误<img alt="委屈" src="http://wxsblog.com/media/xheditor/xheditor_emot/default/wronged.gif" />。我的灵魂告诫我：<strong>漂亮且简洁的代码比丑陋且冗杂的代码更容易读写和维护<img alt="得意" src="http://wxsblog.com/media/xheditor/xheditor_emot/default/proud.gif" /></strong>。于是我便立志要<strong>消除我代码中的所有错误--即使是notice！</strong>从此我就跟if语句和三目运算符结下了不解之缘。</p><p>我的下一个改进是在获取之前先判断一下该变量是否存在： <code>$php=isset($_REQUEST[''php''])?$_REQUEST[''php'']:null; </code>&nbsp;这样一来，即使变量不存在，我也只是得到一个null，而不会引发<code> Notice: Undefined index: php in E:\\wamp\\www\\test\\index.php on line 2 </code>这种“错误”了。但<strong>偷懒是程序员的天性</strong>，屏蔽错误的代价却是要写这么多代码，我肯定会受到良心的强力谴责的<img alt="难过" src="http://wxsblog.com/media/xheditor/xheditor_emot/default/sad.gif" />！怎么办，决不能就这么算了<img alt="骂人" src="http://wxsblog.com/media/xheditor/xheditor_emot/default/curse.gif" />！我的灵魂告诫我：CCCV的频率跟程序员的技术成反比<img alt="得意" src="http://wxsblog.com/media/xheditor/xheditor_emot/default/proud.gif" />！我的高傲决定了我纵然处万人之下，也要凌驾于一人之上（那个人就是我），所以超越自己才是我的人生目标！肿么办？废话，当然是写成函数了！说时迟，那时快，我顺势Ctrl+tab拔出Notepad++就一顿狂砍，终于不负众望，硬是活生生地把那句代码炼制成了一个举世无双的绝世fucktion（怎么看着有点别扭，没写错吧<img alt="疑问" src="http://wxsblog.com/media/xheditor/xheditor_emot/default/doubt.gif" />），废话不多说，上代码：</p><pre class="brush:php">function args($var,$val=null){\r\n  return isset($_REQUEST[$var])?$_REQUEST[$var]:$val;\r\n}\r\n//使用\r\n$php=args(''php'',null);\r\n//判断\r\nif($php){\r\n  //恭喜，$php终于有值了\r\n}\r\n\r\n//应用之二 分页 保证$page为正整数\r\n$page=max(1,intval(args(''page'',1)));\r\n//下面可以查询数据库的count(1)来保证$page不大于最大页数\r\n</pre><p>鉴于代码过于高深，我必须做好详尽的记录，以免将来看不懂这神来之笔。</p><p>.</p><p>..</p><p>...</p><p>额。。好吧，我承认我想不出我还能记录点啥东东。</p>'),
(10, 2, 'php-first-prepare', 'PHP教程第一天：准备工作', '', '', '鉴于PHP实在太美了，我要不把我喜欢的分享出来实在是于心不安，故开此频道，让所有不知道该学什么又想学点什么和想学PHP又不想看书的朋友们一起分享我的最爱--PHP。', '', 26, '<p>鉴于PHP实在太美了，我要不把我喜欢的分享出来实在是于心不安，故开此频道，让所有不知道该学什么又想学点什么和想学PHP又不想看书的朋友们一起分享我的最爱--PHP。</p><p><strong>首先，PHP是什么</strong></p><p>嗯，这个问题我也问过，不过不是问教程，而是问百度。简而言之，PHP就是编程语言的一种，类似C语言、C++、C#、JAVA什么的。那为什么有了这些语言还要搞个PHP出来呢？估计是因为作者喜欢C的简洁高效又讨厌C的复杂，所以找了个折中的办法：自己搞一种语言出来，然后PHP就诞生了。</p><p><strong>然后，PHP能干什么</strong><br /></p><p>哦，这个问题就好回答了，我反正是干什么都叫上她。像采集网站数据、解析百度搜索结果的URL、生成Excel文件、数据库整容、批量发文章等等，当然了，这个博客的程序也是PHP写的。总之我觉得，PHP+JS已经能完成我日常工作的大部分需求了。</p><p><strong>再然后，PHP怎么用</strong></p><p>哇，如果你看到这里了还没关掉这个页面说明你是对PHP有点兴趣的了。好吧，我承认，接下来的步骤你可能会嫌麻烦，但我会尽可能地让它变得简单。<br />首先就是安装一个可以运行PHP的环境，因为PHP不像C++或者VB甚至是C#的程序有硬邦邦的微软照顾（很多运行环境都已经装好了，特别是你装过什么游戏之后，因为他们会附带安装一些运行环境，比如DX9、OpenGL或者.NET Framework什么的），但这个环境说简单也简单，下载一个软件，解压双击就可以了。为了不影响大家的心情，我只能放个最简单的环境了，等大家用惯之后再换个完整点的环境。<br />第一个软件就是APMXE，很奇怪为什么它不叫&quot;php runtime&quot;什么的吧。没办法，开源软件一般都这样，<a href="http://wxsblog.com/upload/download/apmxe5.exe.zip" target="_blank">猛戳这里下载安装</a>(其实是解压)吧，只有5MB左右，路径最好都是英文。<br /></p><img src="http://wxsblog.com/upload/day_121224/201212241255525937.png" alt="最小的PHP运行环境--APMXE,仅有5MB" /><br />安装之后就可以进去双击运行APMXE.exe了，但一定要注意，前提是你没有开启任何占用80端口的WEB服务器软件如IIS、APACHE或者NGINX，当然，他们要是没占用80端口也可以。运行起来之后就会发现右桌面的任务栏右下角（应该在你的语言栏右边和QQ左边）会出现一个齿轮状图标，点击（左键或者右键）它会有个三个选项。不用我多说了吧？点击<strong>Start APMXE</strong>就可以启动了，点击之后稍等1秒再点开卡看<strong>Start APMXE</strong>是不是变成灰色了，如果不是，说明APMXE没有启动起来，看看是不是先把IIS啥的停止了。<p></p>确定启动起来之后就赶紧打开浏览器（一般是Chrome或者FF）输入<strong>http://localhost/ </strong>然后回车。应该出现一个文件夹列表同时下面会显示Apache版本<br /><img src="http://wxsblog.com/upload/day_121224/201212241315248594.png" alt="" /><br /><p>不多说，点击<strong>phpinfo.php</strong>进去就能看到一个经典的PHP信息页面，以后要看PHP版本、支持的扩展、操作系统、WEB服务器软件等等都是在这里看的。别看这些东西很多，实际上要输出这些东西只用一行代码：<code>&lt;?php phpinfo(); ?&gt;</code>，怎么样，我没说谎吧。其实作者也很懒，所以懒人们学PHP就对了。</p><p>好了，今天就先说到这儿吧，要不明天没的说，你们就不来了。</p><p><a href="http://wxsblog.com/upload/download/apmxe5.exe.zip">APMXE自解压文件</a></p><p><a href="http://wxsblog.com/upload/download/apmxe5.zip">APMXE已解压</a></p>'),
(11, 6, 'jquery01', 'Jquery（js框架之一）', '', '', 'jQuery是一个优秀的Javascrīpt框架。它是轻量级的js库 ，它兼容CSS3，并且兼容各种浏览器。jQuery使用户能更方便地处理HTML documents、events、实现动画效果，并且方便地为网站提供AJAX交互', '', 9, '<p><span style="font-family:arial, 宋体, sans-serif;font-size: 14px; line-height: 25px;"><span style="white-space:pre"><code></code>	</span><span style="font-family:arial, 宋体, sans-serif;font-size: 14px; line-height: 24px;">jQuery</span>是一个优秀的Javascrīpt框架</span><span style="font-family:arial, 宋体, sans-serif;font-size: 14px; line-height: 25px;">。它是轻量级的js库 ，它兼容CSS3，并且兼容各种浏览器</span><span style="font-family:arial, 宋体, sans-serif;font-size: 14px; line-height: 25px;">。<span style="font-family:arial, 宋体, sans-serif;font-size: 14px; line-height: 25px;"><span style="font-family:arial, 宋体, sans-serif;font-size: 14px; line-height: 24px;">jQuery</span></span>使用户能更方便地处理HTML documents、events、实现动画效果，并且方便地为网站提供AJAX交互。<span style="font-family:arial, 宋体, sans-serif;font-size: 14px; line-height: 25px;"><span style="font-family:arial, 宋体, sans-serif;font-size: 14px; line-height: 24px;">jQuery</span></span>还有一个比较大的优势是，它的文档说明很全，而且各种应用也说得很详细，同时还有许多成熟的插件</span><span style="font-family:arial, 宋体, sans-serif;font-size: 14px; line-height: 25px;">可供选择，<span style="font-family:arial, 宋体, sans-serif;font-size: 14px; line-height: 24px;"><span style="font-family:arial, 宋体, sans-serif;font-size: 14px; line-height: 24px;">jQuery</span></span><span style="font-family:arial, 宋体, sans-serif;font-size: 14px; line-height: 24px;">是免费、开源的，使用MIT许可协议</span>。jQuery能够使用户的html页保持代码和html内容分离，也就是说，不用再在html里面插入一堆js来调用命令了，只需定义id即可。</span></p><p><span style="font-family:arial, 宋体, sans-serif;font-size: 14px; line-height: 25px;"><span style="font-family:arial, 宋体, sans-serif;font-size: 14px; line-height: 24px;"><span style="white-space:pre">	</span>jQuery库是一个单独的javascript文件，可以保存到本地或者服务器直接引用，也可以从多个公共服务器中选择引用。有Media Temple、Google、Microsoft等多家公司给jQuery提供CDN服务，比较常用的引用地址如下<br /></span><span style="font-family:arial, 宋体, sans-serif;font-size: 14px; line-height: 24px;">　　&lt;script type=&quot;text/javascript&quot; src=&quot;http://code.jquery.com/jquery-1.8.3.min.js&quot;&gt;&lt;/script&gt;<br /></span><span style="font-family:arial, 宋体, sans-serif;font-size: 14px; line-height: 24px;">　　目前的版本是1.8.3（截止2012年12月）<br /></span><span style="font-family:arial, 宋体, sans-serif;font-size: 14px; line-height: 24px;">　　最常使用的jQuery基础方法是.ready()方法<br /></span><span style="font-family:arial, 宋体, sans-serif;font-size: 14px; line-height: 24px;">　　<span style="font-family:arial, 宋体, sans-serif;font-size: 14px; line-height: 24px;">$(document).ready(function(){</span></span></span><span style="font-family: arial, 宋体, sans-serif; font-size: 14px; line-height: 24px;">});</span></p><p><span style="font-size: 14px; line-height: 24px; font-family: arial, 宋体, sans-serif;">　　或者其简写</span></p><p><span style="font-family:arial, 宋体, sans-serif;font-size: 14px; line-height: 24px;">　　$(function(){</span><span style="font-family:arial, 宋体, sans-serif;font-size: 14px; line-height: 24px;">});</span></p><p><span style="font-family:arial, 宋体, sans-serif;font-size: 14px; line-height: 24px;"><span style="font-family:arial, 宋体, sans-serif;font-size: 14px; line-height: 24px;"><span style="white-space:pre">	</span>当dom加载完就可以执行（比window.onload更早）。在同一个页面里可以多次出现.ready()</span><br /></span></p><p><span style="font-family:arial, 宋体, sans-serif;font-size: 14px; line-height: 24px;"><span style="white-space:pre">	</span>想学好jQuery还是要多多练习案例才好哦！</span></p><p></p>'),
(12, 3, 'php-editor-notepad-plus-plus', '初识PHP软件之Notepad++', '', '', '如此美若天仙的民间女子PHP也只有那卓越超群的平民英雄Notepad++才配得上。', '', 20, '<p>好马配好鞍，美女配帅男<img alt="得意" src="http://wxsblog.com/media/xheditor/xheditor_emot/default/proud.gif" />。什么编辑器配PHP向来是见仁见智，不过windows自带的记事本就先哪儿凉快哪儿呆着去吧。因为：如此美若天仙的民间女子PHP也只有那卓越超群的平民英雄Notepad++才配得上。</p><p>秋高气爽、万里无云。得知PHP和Notepad++双双坠入爱河之后，原本安静的代码部落突然热闹起来。</p><p>Zend Studio大踏步走出来：“我出身名门望族，祖先父辈皆乃程序界的泰山北斗”，(环视了一周)“你等名无名小卒有何能耐敢跟我抢她<img alt="发火" src="http://wxsblog.com/media/xheditor/xheditor_emot/default/angry.gif" />”<br /></p><p>phpDesigner也屁颠屁颠地凑上来：“嗨，妹子。哥可没他那么黑”（瞥了一眼Zend Studio）“关键是哥比他强大多了，你要想跟HTML、CSS和JS玩的话，在我这儿最方便啦<img alt="大笑" src="http://wxsblog.com/media/xheditor/xheditor_emot/default/laugh.gif" />，你看他那瘦弱的身子骨，我一脚就能把他踩成一堆干柴<img alt="吐舌头" src="http://wxsblog.com/media/xheditor/xheditor_emot/default/tongue.gif" />”<br /></p><p>Eclipse和PDT一脸不屑的撇了撇嘴，随即恭敬地站着在PHP的面前：“他没机会也就算了”（瞥了一眼ZendStudio），“我们可是完全免费开源的啊，你为什么还是要固执地选他这个要啥没啥的记事本呢<img alt="大哭" src="http://wxsblog.com/media/xheditor/xheditor_emot/default/wail.gif" />”</p><p>Netbeans幽幽地说：“这种事儿谁也不能强求，不管PHP爱上谁，我都会默默地支持她<img alt="难过" src="http://wxsblog.com/media/xheditor/xheditor_emot/default/sad.gif" />”</p><p>bluefish、notepad2和EditPlus等还想凑上来说两句，但PHP柔若无骨地挥手示意大家安静下来。</p><p>“真的很感谢大家对我的错爱，但我还是只能说声对不起，我已经找到了我的最爱，他就是Notepad++。他完全开源免费”（目光有意无意地扫过Zend Studio和phpDesigner）“而且他非常轻量，对我也是照顾有加，很贴心地为我设置了无BOM的UTF-8编码的编码切换。和他在一起的时候，我才能真正感受到无拘无束的自由--他决不会强制要求我生成项目文件，他也绝不会强制把我格式化得跟机器一样，但他却总能把我打扮得漂漂亮亮。我爱他，虽然他不能跟我一起去我的老家--Linux，但我依旧爱他，我愿意为了他跑到Windows上来让他为我梳妆打扮然后再回到Linux上继续工作。我也爱你们，没有你们，我也不能胜任太大的项目，只是我想说，我和Notepad++在一起的时候才是人生最快乐的时候，希望你们也能找到自己心爱的另一半，衷心祝福你们。”</p><p>。。。</p><p>全场静默。Eclipse和PDT一起站出来：“PHP妹妹，衷心祝愿你和那小子能永远快乐。我们也随时欢迎你回来跟我们一起开发项目”，到底是大度的开源软件，Eclipse等人的一席话让在场所有人都释然了。Zend Studio也放松了紧绷的老脸：“算了，我还能说什么呢。不过我也一样，随时欢迎你回来跟我一起开发大项目。”</p><p>“我也是”</p><p>“我也是，永远支持可爱的PHP”</p><p>“妹子加油！”</p><p>...</p><p>秋高气爽，万里无云。郁郁葱葱的树林中，隐约可见一个瘦高的身影时而翻身跃起，时而屏息伏地。。。</p><p></p><blockquote><p>追求技术巅峰的脚步永不停歇，只因技术永无止境</p><small>代码之美</small></blockquote><p></p>'),
(13, 5, 'nice-to-meet-u-yii-framwork', '初识PHP框架Yii Framework', '', '', '拿Yii来说，它可以根据你创建的表快速生成对应的MVC文件，你所要做的就是根据你的需要修改它们。框架本身集成jQuery和jQuery UI以及后台会用到的GridView组件，非常方便。', '', 7, '<p>限于我的工作内容，我很少用到PHP开发框架，但最近看了个比较有意思的框架Yii，相信以后“干大事”估计就用她了。</p><p>其实<strong>什么是PHP框架</strong>这个问题我觉得也没什么好说的，就是一堆类或者函数文件，方便或者说规范我们开发项目的。其实学习框架的初衷不应该是为了找工作，而是为了方便或者规范自己的开发。</p><p>至于<strong>框架有什么用</strong>这个问题就比较大了，但这也是我们为什么要学习某个框架的主要因素。PHP框架的功能一般都比较多，比如目前主流框架都支持MVC架构，都会集成一些实用的小功能，比如上传文件什么的。拿Yii来说，它可以根据你创建的表快速生成对应的MVC文件，你所要做的就是根据你的需要修改它们。框架本身集成jQuery和jQuery UI以及后台会用到的GridView组件，非常方便。基于角色的访问控制可以让你完成大多数CMS具有的权限管理系统，如：管理员、编辑、普通用户等角色赋予不同权限 ，可以精确到每个Controller的每个Action。功能太多，限于篇幅不再一一列举。</p><p>那<strong>框架怎么装</strong>呢？其实也简单，说是叫PHP框架，其实就是一堆PHP文件而已，所以往往都不需要一路Next的那种安装方法，只需要复制到网站的某个文件夹下就可以了。</p><p><br /></p><p>今天给大家介绍的这款名曰YiiPHP框架可不得了，仅框架文件就有22MB。<br /><img src="http://wxsblog.com/upload/day_121224/201212241614184011.png" alt="" /><br /></p><p>不过 里面很多都是可以不要的，比如用作国际化的i18n文件夹就有13MB，如果只留下中英文就能省出十几MB，相对她的功能来说，她的体型几乎可以忽略不计。</p><p>如果你没有因为她的体型就放弃她的话那咱们就可以开始了。</p><p>首先，<a href="http://yii.googlecode.com/files/yii-1.1.12.b600af.tar.gz">猛戳这里下载Yii框架文件</a>&nbsp;，解压里面的文件夹（应该叫yii-1.1.12.b600af）到网站根目录下，重命名为yii，这样我们就能用<strong>http://localhost/yii/</strong>来访问这里面的内容了。</p><p>然后，访问<strong>&nbsp;http://localhost/yii/requirements/ </strong>检查环境需求，有不满足的就改php.ini</p><p>再然后就可以访问<strong>http://localhost/yii/demos/blog/</strong>来访问我们没有动用一行代码创建的网站了，剩下的就是开始打开<a href="http://www.yiiframework.com/doc/blog/1.1/zh_cn/start.overview" target="_blank">Yii的官方网站</a>看教程了。<br /><br /></p><p><a href="http://www.yiiframework.com/doc/blog/1.1/zh_cn/start.overview" target="_blank">Yii框架官方中文教程</a></p><p><a href="http://yii.googlecode.com/files/yii-1.1.12.b600af.tar.gz" target="_blank">Yii框架下载</a></p>'),
(14, 3, 'notepad-plus-plus-how-to', 'PHP开发利器之Notepad++使用方法简述', '', '', '', '', 33, '<p>鉴于Notepad++的功能过于强大，限于篇幅，本文只能简述其基本功能<img alt="大笑" src="http://wxsblog.com/media/xheditor/xheditor_emot/default/laugh.gif" />。</p><p>还是一样的格式↓</p><p><strong>Notepad++是什么？</strong></p><p>这个好说，顾名思义，他首先是Notepad，本意是记事本，可以理解为文本编辑器吧。那两个加号呢？想想C++和C的关系，应该不难理解其实可以理解为升级版或扩展版的Notepad。简单地说，他其实就是个类似EditPlus的文本编辑器，功能强大，但身材依旧苗条<img alt="害羞" src="http://wxsblog.com/media/xheditor/xheditor_emot/default/shy.gif" />。</p><p><strong>Notepad++有什么用？</strong></p><p>这个问题依旧是那么的大，那我来说，我的日常工作和生活都离不开他。不管是我家里笔记本还是公司电脑甚至是VPS上我都有他的存在，没有他，我将寸步难行。那他到底能做什么呢？我目前就是用他写HTML、CSS和PHP代码，偶尔也会借用他帮我替换点东西或者整理下HTML代码<img alt="得意" src="http://wxsblog.com/media/xheditor/xheditor_emot/default/proud.gif" />。</p><p><strong>Notepad++怎么安装？</strong></p><p>两种办法。1、去<a href="http://notepad-plus-plus.org/" target="_blank">Notepad++的官方网站</a>或者<a href="http://dl.pconline.com.cn/html_2/1/117/id=10699&amp;pn=0.html" target="_blank">各大下载站下载Notepad++</a>的安装文件，然后一路Next就差不多了，建议勾选“创建桌面快捷方式”和“作为默认的HTML源文件查看工具”；2、<a href="http://wxsblog.com/upload/download/Notepad++.zip" target="_blank">点击此处下载我为大家精心配置好的Notepad++</a>，直接解压就可以用，无需安装，而且集成了常用插件如：ZenCoding和HTML Tidy<img alt="可怜" src="http://wxsblog.com/media/xheditor/xheditor_emot/default/cute.gif" />，建议下载这个，因为下面的操作会用到Zen Coding。同样建议把里面的Notepad++.exe创建一个快捷方式放到桌面。在此顺便说个小技巧：如果想用Windows键+R调出的运行对话框中输入npp就打开Notepad++的话，可以将Notepad++的快捷方式复制一份，重命名为npp，然后放到系统盘的windows\\system32或者windows\\system下，路径类似c:\\windows\\system32\\</p><p><strong>Notepad++怎么用？</strong></p><p>这个简单，我就以一个PHP采集百度的小工具来演示一下Notepad++的基本功能吧。</p><p>首先，在网站根目录下建一个文件夹，名字就叫spider吧<img alt="大笑" src="http://wxsblog.com/media/xheditor/xheditor_emot/default/laugh.gif" />，老是百度放蜘蛛出来采我们的站，我们也放只蜘蛛采采他的站，礼尚往来嘛。进去新建个index.php，右键选择打开方式-浏览，选择notepad++.exe(安装版的应该在C:\\Program Files\\Notepad++，本站下载的解压版的就在你解压的位置)，如果以后不想再选择可以勾选下面的“始终使用选择的程序打开这种文件(A)”，然后确定就用Notepad++打开了。</p><p>打开之后是不是忽觉一阵清爽，有种豁然开朗的感觉？如果没有也没关系，接下来你肯定会有的↓</p><p>首先，咱们来写点东西。输入<code>html:5</code> 然后按下<code><code>Alt+J</code></code>键启用Zen Coding的补全，应该会出现右边的结果。</p><p><img src="http://wxsblog.com/upload/day_121225/201212251048527200.png" alt="" />&nbsp;<img src="http://wxsblog.com/upload/day_121225/201212251051067022.png" alt="" /><br /></p><p>这就是Zen Coding的神奇之处，以后写代码方便了。然后在body中输入<code>form&gt;input[name=&quot;wd&quot;]+input:submit[value=&quot;搜索&quot;] </code>同样按下<code>Alt+J</code>用Zen Coding展开补全。</p><p>选中生成的form表单，按<code>Ctrl+C</code>复制、<code>Ctrl+N</code>新建、<code>Ctrl+V</code>粘贴，然后点击菜单栏的<code>TextFX</code> - <code>TextFX HTML Tidy</code> - <code>TiDy convert to XHTML</code> 格式化刚才的HTML代码，弹出对话框意思是本次操作中如果出现错误，那错误信息将会保存到那个ERR文件中，直接确定。因为代码太少，所以看不出什么效果，只能看到form的起始标签都独占一行了。</p><p><img src="http://wxsblog.com/upload/day_121225/201212251103475490.png" alt="" /><img src="http://wxsblog.com/upload/day_121225/201212251106029631.png" alt="" /><br /></p><p>管他呢 ，先复制里面的form标签，然后放回到咱们的<code>index.php</code>，这个新标签就可以先按<code>Ctrl+W</code>关了。</p><p>稍作整理，然后在网站编码标签下写上<code>php</code>，补全。参考本站的另一篇文章<a href="http://wxsblog.com/php-skills/get-post-args" target="_blank">PHP技巧之便捷获取GET和POST等变量</a>写个<code>args</code>函数，没有对齐的话选中要缩进的行按<code>TAB</code>键可以向右缩进，虽然业内对用空格还是TAB缩进众说纷纭，但我个人比较喜欢用TAB缩进，而且TAB宽度是2个空格，个人习惯而已，你们估计喜欢4个空格的宽度吧。</p><p><img src="http://wxsblog.com/upload/day_121225/201212251118487044.png" alt="" /><img src="http://wxsblog.com/upload/day_121225/201212251125149246.png" alt="" /><br /></p><p>继续码字，获取变量，并获取百度的搜索结果，可以看到，PHP的内置函数名称也有补全功能，有中意的按回车就行了，经常用会感觉写代码跟弹钢琴似的。<br />其实不仅函数名称有补全，函数参数也有，打完函数名称之后再打个左括号就可以看到了，但不要打右括号，也不要按退格键，不然提示就没了，有点不爽。</p><p><img src="http://wxsblog.com/upload/day_121225/201212251127488349.png" alt="" /><img src="http://wxsblog.com/upload/day_121225/201212251133196382.png" alt="" /><br /></p><p>写完之后按<code>Ctrl+F</code>搜索<code>form&gt;</code>，假设我们的index.php很长很长。。。按回车或点击查找下一个，找到之后按<code>ESC</code>关闭查找对话框，再按End键到该行行尾，回车键然后输入<code>#content</code> 上Zen Coding，继续回车，输入<code>e</code> 继续补全，然后输入<code>!empty($cont)?$cont:''''</code> 来判断并输出<code>$cont</code>变量。最终的结果应该跟这个差不多↓</p><p><img src="http://wxsblog.com/upload/day_121225/201212251138522664.png" alt="" /><br /></p><p>哦 好像忘了点什么，现在我们知道<code>title</code>标签在14行，但我又不想动用我那庞大的鼠标，唉没办法，只能用<code>Ctrl+G</code>了，输入<code>14</code> 回车，Perfect！然后设置一下<code>title</code>让我们的小工具看起来更专业。来吧，看看我写的跟你写的像不像？</p><p><img src="http://wxsblog.com/upload/day_121225/201212251144405479.png" alt="" /><br /></p><p>好了 ，应该差不多了。赶紧打开浏览器输入<code>http://localhost/spider/ </code>看看我们费尽千辛万苦打造的采集百度的蜘蛛吧。很明显，百度更喜欢他们<img alt="难过" src="http://wxsblog.com/media/xheditor/xheditor_emot/default/sad.gif" />。</p><p><img src="http://wxsblog.com/upload/day_121225/201212251151342161.png" alt="" /><br /></p><p>你居然看到了这里，莫非你在等我上代码？哦不，这篇文章只是介绍Notepad++的，我非常希望你看完之后能喜欢上他，至于PHP嘛，有的是机会了解她，也不差这几行代码。而且我相信，举世无双的你一定能在10分钟之内把这个小蜘蛛培养起来，也许将来还能跟百度合作哦。</p>');
INSERT INTO `tb_content` (`id`, `cid`, `name`, `title`, `tag`, `keywords`, `description`, `image`, `view`, `content`) VALUES
(15, 2, 'php-second-caiji-baidu', 'PHP教程第二天：礼尚往来采百度', '', '', '', '', 39, '<p>好了，<a href="http://wxsblog.com/php-study/php-first-prepare" target="_blank">昨天我们已经安装好PHP了</a>，今天就让我一起来打造一个采集百度的小蜘蛛。内容有点类似于本站的<a href="http://wxsblog.com/php-software/notepad-plus-plus-how-to" target="_blank">一篇介绍Notepad++的文章</a>，但我们决不能满足现状，我们要做的是：根据关键词采集百度的搜索结果，然后存入文本文件，每行一个标题。</p><p>也许听起来有点麻烦，但相信我，这一切用PHP来完成就像是请她跳一支舞那么简单。</p><p>同样，喜欢偷懒的我不会贴出纯文本的完整代码，希望你不是在地铁上用GPRS看这篇文章<img alt="大笑" src="http://wxsblog.com/media/xheditor/xheditor_emot/default/laugh.gif" />。</p><p>第一步，进入PHP环境的WEB根目录，如果是用的昨天安装的APMXE的话应该是在APMXE文件夹的htdocs里面。好吧，进去新建一个spider文件夹(如果已经有了的话就把以前的重命名吧)，然后再新建一个index.php文件，双击用Notepad++打开，如果默认不是用Notepad++打开又想设置Notepad++为默认编辑器的话参考<a href="http://wxsblog.com/php-software/notepad-plus-plus-how-to" target="_blank">本站那篇介绍Notepad++的文章</a>吧。希望你是用的<a href="http://wxsblog.com/upload/download/Notepad++.zip" target="_blank">从本站下载的Notepad++</a>，不然遇到编码问题有点麻烦。</p><p>第二步，分析我们要采集的地址。打开Chrome，用百度搜索<code>PHP</code>，可以看到地址栏的地址很长，尝试找出自己能看懂的留下来，把自己觉得不感兴趣的删除。浏览器里面不好看，我还是复制到Notepad++里面看了。第1行是原生的地址，经过处理后，得到了第3行的代码。<code>wd</code>应该是word，<code>ie</code>不清楚，也许是Internet Explorer<img alt="大笑" src="http://wxsblog.com/media/xheditor/xheditor_emot/default/laugh.gif" />，不过他的值<code>utf-8</code>我倒是感兴趣。反正我喜欢utf-8，用上也许不是什么坏事。至于其他的参数嘛，看不出什么意思，估计也可以不好。试试在浏览器里面访问第3行的地址，结果是不是差不多？</p><p><img src="http://wxsblog.com/upload/day_121226/201212261017422720.png" alt="" />&nbsp;<img src="http://wxsblog.com/upload/day_121226/201212261039225144.png" alt="" />&nbsp;<img src="http://wxsblog.com/upload/day_121226/201212261043089348.png" alt="" /><br /></p><p>好吧 ，我承认这没什么效果，不过地址栏精简了，我们看着也舒服点。至于ie参数，你也可以删掉试试会不会有负面影响，我试了，浏览器里面是没问题。</p><p>OK，知道地址就好办了，下面就是通过PHP去访问这个地址，然后把返回的源代码分析一下，找出其中的“行”，然后放到文本文件里。</p><p>有了准备工作和地址，火速打开<code>index.php</code>，码字！</p><p><img src="http://wxsblog.com/upload/day_121226/201212261057516575.png" alt="" /><br /></p><p>怎么样，PHP身材好吧。一行代码就可以读取并输出一个网页。说一下：<a href="http://cn2.php.net/manual/zh/language.basic-syntax.phpmode.php" target="_blank"><code>&lt;?php ?&gt;</code></a> 是PHP的标签，就像&lt;% %&gt;是ASP的标签一样；<a href="http://cn2.php.net/manual/zh/function.file-get-contents.php" target="_blank"><code>file_get_contents</code></a>是读取并返回文件内容的一个内置函数，当然，这个“文件”除了包括本地文件外，还包括网络上的文件，在PHP看来，一个网页也是一个文件，只不过他住在互联网上；<a href="http://cn2.php.net/manual/zh/function.echo.php" target="_blank"><code>echo</code></a>&nbsp;是输出他后面的内容，file_get_contents只是读取并返回内容，需要echo向页面输出他读取到的内容。</p><p>之所以写成这样，是想告诉你，PHP很苗条，但我们要实现一个完整的功能还得把代码写的漂亮点。继续努力，扩展成这样。</p><p><img src="http://wxsblog.com/upload/day_121226/201212261106109551.png" alt="" /></p><p>结果 跟刚才一样，只是看上去更舒服了。</p><p>第2行是定义一个名为<code>$url</code>的<a href="http://cn2.php.net/manual/zh/language.variables.basics.php" target="_blank">PHP变量</a>，并将字符串类型的网址赋值给他，PHP中所有的变量都必须以$开头，一开始我还不习惯，但后来发现这样能杜绝（不是降低。。。的概率）变量跟系统关键字冲突，也就乐意接受了。既然是变量，名字当然随便起了，但最好只用大小写、数字和下划线。<br />第3行是让file_get_contents函数去读取$url所代表的网址，然后把获取到的内容返回给<code>$cont</code>变量，本来用<code>$content</code>好点，但你也知道，我懒得不行，就用删减版的<code>$content</code>了，反正变量名可以随便起嘛。<br />第4行是用<code>echo </code>输出<code>$cont</code>的值，这里的<code>echo</code>是个语言结构而不是函数，所以不需要用小括号（当然，也可以用，只是一般不会用）。</p><p>在搜索结果的&quot;<code>php_百度百科</code>&quot;上右键-<code>审查元素</code>，分析一下代码结构，然后把标题读取出来。</p><p><img src="http://wxsblog.com/upload/day_121226/201212261119485997.png" alt="" /><br /></p><p>可以看到，大概就是&lt;h3 class=&quot;t&quot;&gt;&lt;/h3&gt;这对标签里面的a标签包含了标题和链接。因为审查元素看到的代码也包含被JS处理后的结果，所以，最好查看一下源文件核对一下是否正确。嗯，应该没问题，继续根据这个规则提取标题吧，下面就要请到鼎鼎大名的正则表达式了。</p><p><img src="http://wxsblog.com/upload/day_121226/201212261128213830.png" alt="" /><br /></p><p>第4行就是用<code>preg_match_all</code>这个正则表达式匹配函数来根据我们定下的规则找出我们需要的部分，他接受三个参数：<br />1.找什么--正则表达式匹配模式<br />2.在哪里找--源字符串<br />3.找到后放到哪儿--存放结果的数组变量，可以不用初始化</p><p>好好分析一下第一个参数：正则表达式匹配模式必须要有界定符，而且可以随便定义，我在这里选择了通常会使用的/，那结尾处的s是什么意思呢？它是模式修正符，作用就是在正则表达式执行的时候启用一些扩展功能，s就表示匹配所有的英文句号.可以匹配回车换行符。<code>&lt;h3 class=&quot;t&quot;&gt;</code>没什么特殊意义，不过后面h3的结束标签为什么是<code>&lt;\\/h3&gt;</code>而不是<code>&lt;/h3&gt;</code>呢？刚才说了，我们选择的界定符是<code>/</code>，所以要匹配普通的<code>/</code>需要用<code>\\</code>进行转义，所以这里的<code>/</code>就成了<code>\\/</code>。也正因为这样，一般匹配HTML标签的时候也常用<code>#</code>作为界定符，这样<code>/</code>就无须转义了，如果用<code>#</code>，效果就是：<code>preg_match_all(''#&lt;h3 class=&quot;t&quot;&gt;(.+?)&lt;/h3&gt;#s'',$cont,$match); </code>是不是方便点了，不过这样一来，要匹配普通的<code>#</code>就得用<code>\\#</code>了。中间那段太过深奥，不另起一行我心里过意不去↓</p><p><code>(.+?)</code>的意思是匹配.+的内容直到发现了他后面的内容为止，在这里，就是从当前位置一直匹配到发现<code>&lt;\\/h3&gt;</code>的地方，如果用<code>Javascript</code>的语法来说就是<code>.+?</code>代表了这对<code>h3</code>标签的<code>innerHTML</code>。<code>.</code>是匹配一个任意字符--换行符除外（但因为我们加了<code>s</code>这个模式修正符，所以<code>.</code>也能匹配回车换行了），<code>+</code>是修饰<code>.</code>的，表示匹配一个或多个<code>.</code>，<code>?</code>表示非贪婪模式查找，形象地理解就是差不多就行了，看到后面的东西就停止，<code>小括号</code>是把括起来的匹配部分保存到一个的隔离的数组里面，这才是我们要的东西--因为我们查找的时候用到了<code>h3</code>，但我们在取结果的时候并不想把<code>h3</code>也带上，我们只想要<code>h3</code>里面的代码。</p><p>好了，终于把第一个参数分析完了<img alt="睡觉" src="http://wxsblog.com/media/xheditor/xheditor_emot/default/sleep.gif" />。第二个参数意思就是从<code>$cont</code>里面去搜索，第三个参数就是随便给他一个变量，用来存放匹配结果。</p><p>第5行代码就是把匹配结果完整地输出来看下，为什么用<code>print_r</code>而不是<code>echo</code>呢？因为<code>echo </code>只是输出普通的字符串而不能输出数组，<code>print_r</code>能把一个数组的结构都打印出来，所以一般输出数组、对象的时候都会用<code>print_r</code>。</p><p>再刷新一下你的小蜘蛛，同时再看看查看源代码的效果，也许我们的结果很像哦。</p><p><img src="http://wxsblog.com/upload/day_121226/201212261153582333.png" alt="" /><br /></p><p>好吧，我承认这看起来很乱。仔细看看源代码的结果，不难发现咱们这个<code>$match</code>是一个包含两个元素的大数组，每个元素又是一个包含10个元素的小数组。这就是一个典型的正则匹配结果。<code>$match[0]</code>是忽略匹配模式中的小括号的一个整体的匹配结果；<code>$match[1]</code>对应第一对小括号的匹配结果。相应地，如果有第二对小括号，将会被放在<code>$match[2]</code>中。。。对于我们这么爱美的PHP来说，<code>$match[2]</code>实在是太丑了，怎么办？先清理一下标签再保存吧。</p><p><img src="http://wxsblog.com/upload/day_121226/201212261317558599.png" alt="" /><br /></p><p>刚才说过，经过第4行之后，<code>$match</code>就是一个包含两个元素的大数组，对我们有用的也就是<code>$match[1]</code>，这里我用另一种方式取到他--<code>array_pop</code>函数可以将<code>$match</code>数组弹出最后一个元素并返回，注意，这是一个破坏性操作，经过<code>array_pop</code>之后，<code>$match</code>就少一个元素了。不过无所谓，反正我们也不用当初那个完整的<code>$match</code>，为了偷懒，我直接用<code>$match</code>来装弹出的那个元素也就是<code>$match[1]</code>，这样我就不用再定义一个新的变量了。于是我们知道，经过第5行之后，<code>$match</code>其实就是之前的<code>$match[1]</code>，而现在的<code>$match</code>不再是当初那个有两个元素的大数组了，而是当初那个大数组的第二个元素--有10个元素的小数组。对于我们来说，其实就是搜索结果页的10个标题。</p><p>刚才还说过，<code>$match[1]</code>（也就是现在的<code>$match</code>）实在太丑了，第6行就是用来给他洗澡的。<a href="http://cn2.php.net/manual/zh/function.array-map.php" target="_blank"><code>array_map</code></a>就是对<code>$match</code>中的每一个元素应用<code>strip_tags</code>函数（别看这里的<code>strip_tags</code>是个单引号引起来的字符串，其实他本身是一个内置函数，专门用来清除<code>HTML</code>标签的，只是为了让<code>array_map</code>来调用，才以字符串自居的），然后把处理过后的结果再赋值给<code>$match</code>。同样，我还是懒得再建一个新的变量来装这个结果了，也没必要，还是直接就放到<code>$match</code>里面把。</p><p>第7行呢？首先，有个主要的函数是<code>implode</code>，他的作用类似于<code>VB</code>或<code>javascript</code>里面的<code>join</code>，就是把一个数组的所有元素用一个字符串连接起来组合成一个新的字符串。他的第一个参数就是要用来做连接符的字符串，这里我们选择了一个<code>PHP</code>的内置常量<code>PHP_EOL</code>，他是根据操作系统所得到的一个换行符。<strong>Windows下一般是<code>\\r\\n</code>，Mac下一般是<code>\\r</code>，Linux上一般是<code>\\n</code></strong>，当然你也可以写成<code>implode(&quot;\\r\\n&quot;,$match); </code>但，你不觉得蓝色比灰色更漂亮么<img alt="大笑" src="http://wxsblog.com/media/xheditor/xheditor_emot/default/laugh.gif" />？且不说他的可移植性更强。好吧，相信你已经知道了，经过这一行处理之后，<code>$ret</code>这个变量（我新定义出来的变量，不像是个单词是吧，嗯，其实是因为我懒得写<code>$result</code><img alt="害羞" src="http://wxsblog.com/media/xheditor/xheditor_emot/default/shy.gif" />）就是一个彻彻底底的字符串了，而且每行都是一个<code>$match</code>的元素。为什么不继续赋值给<code>$match</code>而要新创建一个变量呢？嗯。。没什么，我喜欢<img alt="得意" src="http://wxsblog.com/media/xheditor/xheditor_emot/default/proud.gif" />。<code>PHP</code>本就应该这样不是么？我想怎么写就怎么写。其实还有个并不重要的理由，<strong>一般情况下我不太习惯用同一个变量在不同时期装不同类型的数据</strong>。</p><p>好吧，终于到倒数第二行了。初次见到<code>file_get_contents</code>的时候不知道你有没有想过他也许会有个同伴。但现在事实证明，他的确有个双胞胎哥哥（或者弟弟、姐姐甚至是妹妹），那就是这个<code>file_put_contents</code>。顾名思义，就是把一个字符串写入一个文件中。第一个参数是文件路径，第二个参数是要写入的字符串。看吧，让PHP把一些东西放到一个文件里就是这么简单，是不是还没回过神来就敲完了？</p><p>好的，再次刷新一下页面，等原本显示<code>favicon</code>的地方的圆圈消失之后看看你的<code>index.php</code>旁边是不是多了个<code>data.txt</code>？不知道你的<code>data.txt</code>里面有什么，反正我的是这样：</p><p><img src="http://wxsblog.com/upload/day_121226/201212261345325543.png" alt="" /><br /></p><p>本来是没有这些黑色小方块的，看看红色圆圈里面的三个按钮中的第二个--显示所有字符，即使是平时不可见的空白符也能一览无余了。他只是切换空白符的可见状态，并不会更改文件内容，放心使用吧。顺便说下，自己尝试一下第一个和第三个按钮吧。</p><p>OK，费尽千辛万苦，终于在学习PHP的第二天就把百度采下来了。赶紧跟你的女朋友和男朋友分享你成功的喜悦吧。希望你能继续完善，争取把URL、日期也采集下来哦<img alt="再见" src="http://wxsblog.com/media/xheditor/xheditor_emot/default/bye.gif" />。</p><p>嗯？还继续往下看呢？别看了，没有代码的--虽然我早已引用了<a href="http://www.oschina.net/p/syntaxhighlighter" target="_blank">SyntaxHighlighter</a>。</p>');
